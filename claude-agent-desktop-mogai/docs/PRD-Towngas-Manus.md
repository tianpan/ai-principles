# Towngas Manus 产品需求文档 (PRD)

> 版本：v1.0
> 创建时间：2026-02-17
> 负责人：田攀
> 状态：规划中

---

## 一、文档概述

### 1.1 文档目的

本文档定义 Towngas Manus（港华智能体平台）的产品需求，作为后续开发、测试、验收的基准参考。

### 1.2 产品定义

**Towngas Manus** 是港华集团的**企业级自主 Agent 平台**，基于 Claude Agent SDK 构建。

**核心理念**：
- 类似于面向 C 端的 Manus，但面向港华内部用户
- Agent 具备强自主性，能够独立完成复杂任务
- 作为港华所有自研系统的统一智能层

```
产品名称由来：
- Towngas = 港华集团
- Manus = 拉丁语"手"，寓意"执行者、助手"
- 合意：港华的智能执行者

定位对标：
- C 端 Manus（通用 AI 助手）→ Towngas Manus（港华专用 AI 助手）
- 不只是聊天工具，而是能自主完成任务的 Agent 平台
```

**覆盖范围**：
- TOP（场站管网业务）
- 工程移动（工程场景）
- 其他自研业务系统
- 不包括 BIP（由用友 YonAI 负责）

### 1.3 核心架构理念（从 Claude Agent SDK Demo 项目学到的）

> 通过深入研究 Claude Agent SDK 官方 Demo 项目（research-agent、email-agent 等），我们提炼出以下核心设计理念，这些理念将指导 Towngas Manus 的架构设计。

#### 1.3.1 "1 主 Agent + N Skills + M Subagents" 模式

**关键认知：不要为每个业务场景构建独立 Agent**

```
❌ 错误理解：
   为每个业务场景建一个 Agent
   → 场站查询 Agent、设备诊断 Agent、报表生成 Agent...
   → 导致 Agent 爆炸，维护成本极高

✅ 正确理解（从 Demo 学到）：
   1 个主 Agent (Manus) + N 个 Skills + 少量专业 Subagents
   → 场站查询 Skill、设备诊断 Skill... (都是工具，不是 Agent)
   → 只有复杂场景才需要 Subagent（如日报生成）
```

**从 Demo 项目的映射**：

| Demo 项目 | 设计模式 | Towngas Manus 应用 |
|-----------|----------|-------------------|
| **hello-world** | 单一 Agent + 基础对话 | Manus 主 Agent 基础能力 |
| **email-agent** | 1 Agent + 多 MCP Tools | 场站查询、设备诊断等 Skills |
| **research-agent** | Lead Agent + 专业 Subagents | 日报生成、复杂分析场景 |

#### 1.3.2 MCP 工具集成模式

**从 email-agent 学到的：用 MCP 工具封装外部系统能力**

```python
# email-agent 的 MCP 工具模式
mcp__email__search_inbox    # 搜索邮件
mcp__email__send_email      # 发送邮件

# Towngas Manus 的 MCP 工具设计
mcp__top__query_station     # 查询场站
mcp__top__get_device_data   # 获取设备数据
mcp__top__get_gas_volume    # 获取气量数据
mcp__knowledge__search      # 知识库检索
mcp__report__generate       # 报表生成
```

**原则**：
- 简单的数据查询和操作 → 用 MCP 工具（Skill）
- 复杂的多步骤任务 → 用 Subagent

#### 1.3.3 多代理协调模式

**从 research-agent 学到的：Lead Agent 协调专业 Subagents**

```
research-agent 架构：
┌─────────────────────────────────────────────────┐
│              Lead Agent (协调者)                 │
│  - 理解用户需求                                  │
│  - 分解任务                                      │
│  - 协调子代理                                    │
└───────────────────────┬─────────────────────────┘
                        │
        ┌───────────────┼───────────────┐
        ▼               ▼               ▼
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ Researcher  │ │Data Analyst │ │Report Writer│
│ (资料收集)   │ │ (数据分析)   │ │ (报告撰写)  │
└─────────────┘ └─────────────┘ └─────────────┘

Towngas Manus 复用此模式：
┌─────────────────────────────────────────────────┐
│              Manus Agent (主控)                  │
└───────────────────────┬─────────────────────────┘
                        │
        ┌───────────────┼───────────────┐
        ▼               ▼               ▼
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ 日报生成    │ │ 数据分析    │ │ 报告撰写    │
│ Subagent   │ │ Subagent   │ │ Subagent   │
└─────────────┘ └─────────────┘ └─────────────┘
```

#### 1.3.4 文件系统通信解耦

**从 research-agent 学到的：通过共享文件系统解耦代理**

```
research-agent 的通信方式：
files/
├── research_notes/     # 研究员写入，分析师读取
├── charts/             # 分析师生成，报告员读取
└── final_report.md     # 最终输出

Towngas Manus 应用：
files/
├── towngas_data/       # 数据采集结果
├── analysis_results/   # 分析结果
├── reports/            # 生成的报表
└── cache/              # 缓存数据
```

**优势**：
- 代理之间松耦合
- 易于调试和追踪
- 支持异步处理

---

## 二、项目背景

### 2.1 港华集团概况

| 项目 | 信息 |
|------|------|
| 公司名称 | 港华集团（香港中华煤气在内地业务） |
| 服务用户 | 4000万+ |
| 城市燃气公司 | 140+ 家 |
| 管网规模 | 13万公里+ |
| IT 团队 | 7个组织，500+ 人 |

### 2.2 为什么需要 Towngas Manus

| 痛点 | 说明 |
|------|------|
| 自研系统缺乏AI能力 | TOP、工程移动等自研系统需要智能层 |
| BIP 有自己的 AI 路线 | 用友 YonAI 负责 BIP 体系，自研系统需要独立方案 |
| 自主可控 | 核心业务 AI 能力不应完全依赖厂商 |
| 敏捷迭代 | AI 时代技术变化快，需要拥抱开源生态 |
| Agent 自主性需求 | 不只是问答，而是能自主完成复杂任务的执行者 |

**核心价值**：一个平台，服务所有自研系统。

```
┌─────────────────────────────────────────────────────────────────┐
│                    自研系统全景                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   ┌─────────────────────────────────────────────────────────┐  │
│   │                  Towngas Manus                          │  │
│   │              (统一 Agent 平台)                          │  │
│   └─────────────────────────────────────────────────────────┘  │
│                              │                                  │
│          ┌───────────────────┼───────────────────┐             │
│          ▼                   ▼                   ▼             │
│   ┌─────────────┐     ┌─────────────┐     ┌─────────────┐      │
│   │    TOP      │     │  工程移动    │     │  未来系统   │      │
│   │  场站管网   │     │  工程场景    │     │  ...        │      │
│   └─────────────┘     └─────────────┘     └─────────────┘      │
│                                                                 │
│   边界外: BIP 体系 (由用友 YonAI 负责)                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 三、产品定位

### 3.1 愿景

**成为港华自研系统的统一智能层**，让 Agent 能够自主完成复杂业务任务。

**核心特征**：
- **强自主性**: 不只是问答，而是能规划、执行、反馈的 Agent
- **统一平台**: 一个平台服务 TOP、工程移动等所有自研系统
- **企业级**: 面向港华内部用户，安全可控

### 3.2 演进路线

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│    v0.1 MVP     │ ──▶ │   v0.2 数据接入  │ ──▶ │  v1.0 Agent OS  │
│   能跑的Agent   │     │  能懂业务的Agent │     │  可组合的企业AI │
└─────────────────┘     └─────────────────┘     └─────────────────┘
       ✅ 完成                 📋 当前                  🎯 未来

MVP (v0.1):
  ✓ Agent 执行引擎（参考 hello-world）
  ✓ Skills 技能系统
  ✓ 会话管理
  ✓ Web Chat 界面
  ✓ REST API

数据接入 (v0.2):
  ○ TOP API 集成（参考 email-agent MCP 模式）
  ○ 知识库接入（RAG Pipeline）
  ○ 企业数据 RAG
  ○ 港华专属 Skills（场站查询、设备诊断等）
  ○ 日报生成 Subagent（参考 research-agent 模式）

Agent OS (v1.0):
  ○ 多租户支持
  ○ 权限与审计
  ○ 多 Agent 协作编排
  ○ Agent 市场
```

### 3.3 Skill vs Subagent 决策指南

**何时用 Skill（MCP 工具）**：
- 单一、明确的功能（查询、搜索、简单操作）
- 不需要复杂推理
- 可以在一个工具调用中完成

**何时用 Subagent**：
- 需要多步骤协调
- 需要独立的推理和规划能力
- 需要调用多个工具
- 任务复杂度高，需要专门的 prompt

```
决策树：

用户请求
    │
    ▼
是否需要多个步骤？ ──── 否 ──▶ 用 Skill
    │
    是
    ▼
是否需要独立推理？ ──── 否 ──▶ 用 Skill 组合
    │
    是
    ▼
是否需要专门 prompt？ ─── 否 ──▶ 用 Skill + 复杂逻辑
    │
    是
    ▼
用 Subagent
```

**Towngas Manus 的具体示例**：

| 场景 | 类型 | 理由 |
|------|------|------|
| 场站查询 | Skill | 单一查询，返回结果 |
| 设备诊断 | Skill | 基于规则的分析 |
| 知识问答 | Skill | RAG 检索 + 生成 |
| 气量预测 | Skill | 调用预测模型 |
| 运营日报生成 | Subagent | 多数据源 + 分析 + 格式化 |
| 应急处置辅助 | Subagent | 多步骤推理 + 方案生成 |
| 全链路安全分析 | Subagent | 跨领域协调 + 综合判断 |

---

## 四、目标用户

### 4.1 主要用户

| 用户类型 | 描述 | 使用场景 |
|----------|------|----------|
| **业务人员** | 港华各子公司运营人员 | 日常业务咨询、数据查询、报表生成 |
| **技术人员** | IT 开发/运维人员 | 代码辅助、文档查询、运维支持 |
| **管理人员** | 部门经理/高管 | 数据分析、决策支持、报表汇总 |

### 4.2 用户画像示例

```
用户画像：场站运营人员 小王

背景：
- 负责某燃气场站的日常运营
- 每天需要检查设备状态、气量数据、安全指标
- 使用 TOP 系统查看数据

痛点：
- 数据分散在多个系统
- 需要手动汇总报表
- 异常情况需要人工判断

期望：
- 一句话查询场站状态
- 自动生成运营日报
- 异常自动预警
```

---

## 五、功能需求

### 5.1 功能架构

```
┌───────────────────────────────────────────────────────────────────────┐
│                           Towngas Manus                                │
├───────────────────────────────────────────────────────────────────────┤
│                                                                       │
│  ┌───────────────────────────────────────────────────────────────┐   │
│  │                        用户接入层                               │   │
│  │     Web Chat  │  移动端  │  API  │  企业微信/钉钉              │   │
│  └───────────────────────────────────────────────────────────────┘   │
│                                   │                                   │
│  ┌───────────────────────────────▼───────────────────────────────┐   │
│  │                     Manus Agent (主控)                         │   │
│  │  ┌──────────────────────────────────────────────────────────┐ │   │
│  │  │  理解用户意图 → 路由到对应 Skill/Subagent → 整合返回结果  │ │   │
│  │  └──────────────────────────────────────────────────────────┘ │   │
│  │                            │                                   │   │
│  │            ┌───────────────┼───────────────┐                   │   │
│  │            ▼               ▼               ▼                   │   │
│  │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │   │
│  │   │   Skills    │  │   Skills    │  │  Subagents  │          │   │
│  │   │  (MCP工具)  │  │  (MCP工具)  │  │ (复杂任务)   │          │   │
│  │   │  场站查询   │  │  知识问答   │  │ 日报生成    │          │   │
│  │   │  设备诊断   │  │  气量预测   │  │ 应急处置    │          │   │
│  │   └─────────────┘  └─────────────┘  └─────────────┘          │   │
│  └───────────────────────────────────────────────────────────────┘   │
│                                   │                                   │
│  ┌───────────────────────────────▼───────────────────────────────┐   │
│  │                        数据接入层 (MCP Adapters)               │   │
│  │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐  │   │
│  │  │ TOP API   │  │ BIP API   │  │  知识库    │  │ 外部数据   │  │   │
│  │  │ Adapter   │  │ Adapter   │  │ Provider  │  │ Adapter   │  │   │
│  │  └───────────┘  └───────────┘  └───────────┘  └───────────┘  │   │
│  └───────────────────────────────────────────────────────────────┘   │
│                                                                       │
│  参考：email-agent 的 MCP 工具模式，research-agent 的多代理协调模式    │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘
```

**架构说明（基于 Demo 项目的理解）**：

| 层级 | 设计理念 | 来源 |
|------|----------|------|
| **Manus Agent** | 单一入口，统一协调 | hello-world + research-agent Lead |
| **Skills (MCP工具)** | 轻量级，无状态，可组合 | email-agent 的 MCP 模式 |
| **Subagents** | 有状态，独立推理，专门 prompt | research-agent 的 Researcher/Analyst |
| **MCP Adapters** | 封装外部系统，标准化接口 | email-agent 的 IMAP 集成 |

### 5.2 核心功能清单

#### 5.2.1 MVP 阶段（已完成）

| 功能 | 描述 | 状态 |
|------|------|------|
| Agent 执行 | 基于 Claude Agent SDK 的 Agent 运行时 | ✅ |
| 会话管理 | 多会话支持、历史持久化 | ✅ |
| Skills 系统 | 技能注册、发现、执行 | ✅ |
| REST API | 完整的 RESTful API | ✅ |
| 流式输出 | SSE 流式响应 | ✅ |
| Web Chat | Vue3 聊天界面 | ✅ |
| 上下文压缩 | 长对话自动压缩 | ✅ |
| 子代理管理 | 多子代理支持 | ✅ |

#### 5.2.2 v0.2 阶段（规划中）

| 功能 | 描述 | 优先级 |
|------|------|--------|
| TOP API 集成 | 连接 TOP 系统获取生产数据 | P0 |
| 知识库接入 | RAG 检索增强生成 | P0 |
| 场站查询 Skill | 查询场站状态、设备、气量 | P0 |
| 企业认证 | 对接港华统一认证 | P1 |
| 消息推送 | 企业微信/钉钉消息推送 | P2 |

#### 5.2.3 v1.0 阶段（未来）

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 多租户支持 | 支持多子公司独立使用 | P0 |
| 权限管理 | 基于角色的访问控制 | P0 |
| 审计日志 | 操作记录与审计 | P1 |
| Agent 编排 | 多 Agent 协作编排 | P1 |
| Agent 市场 | 技能共享与市场 | P2 |

---

## 六、港华专属 Skills 与 Subagents 规划

> **核心原则**：优先用 Skill（MCP 工具），只有复杂场景才用 Subagent。
>
> **判断标准**：
> - Skill：单一功能、无需独立推理、一次工具调用可完成
> - Subagent：多步骤协调、需要独立规划、有专门 prompt

### 6.1 第一批 Skills（v0.2）- 以 Skill 为主

**Skills（MCP 工具）**：

| Skill | MCP 工具名 | 描述 | 数据源 | 参考模式 |
|-------|-----------|------|--------|----------|
| **场站查询** | `mcp__top__query_station` | 查询场站基本信息、运行状态 | TOP API | email-agent MCP |
| **设备数据** | `mcp__top__get_device_data` | 获取设备运行数据 | TOP API | email-agent MCP |
| **气量查询** | `mcp__top__get_gas_volume` | 历史气量数据查询 | TOP API | email-agent MCP |
| **知识检索** | `mcp__knowledge__search` | RAG 知识库检索 | 向量数据库 | email-agent MCP |
| **气量预测** | `mcp__prediction__gas_volume` | 调用预测模型 | ML 模型 | email-agent MCP |

**Subagents（复杂任务）**：

| Subagent | 描述 | 使用的 Skills | 参考模式 |
|----------|------|---------------|----------|
| **日报生成** | 场站运行日报自动生成 | 场站查询 + 设备数据 + 知识检索 | research-agent |
| **应急处置** | 应急预案匹配 + 处置建议 | 知识检索 + 场站查询 | research-agent |

### 6.2 第二批 Skills（v0.3+）- 扩展到其他系统

**Skills（MCP 工具）**：

| Skill | MCP 工具名 | 描述 | 数据源 |
|-------|-----------|------|--------|
| **工程巡检** | `mcp__engineering__get_inspection` | 巡检记录查询 | 工程移动 API |
| **施工进度** | `mcp__engineering__get_progress` | 项目进度跟踪 | 工程移动 API |
| **合同查询** | `mcp__bip__query_contract` | 合同信息查询（只读） | BIP API |
| **供应商查询** | `mcp__bip__query_supplier` | 供应商信息查询 | BIP API |

**Subagents（复杂任务）**：

| Subagent | 描述 | 使用的 Skills |
|----------|------|---------------|
| **工程风险预警** | 综合分析项目风险 | 工程巡检 + 施工进度 + 知识检索 |
| **合规审查** | 检查操作是否符合规范 | 知识检索 + 合同查询 |

### 6.3 Demo 项目模式映射表

**将 P0 首批场景映射到 Demo 项目模式**：

| P0 场景 | 推荐模式 | 具体实现 | Demo 参考 |
|---------|----------|----------|-----------|
| **操作规程问答** | Skill | `mcp__knowledge__search` + RAG | email-agent |
| **常见问题问答** | Skill | `mcp__knowledge__search_faq` | email-agent |
| **场站运行日报** | Subagent | Lead → 数据收集 → 模板生成 | research-agent |
| **运营日报** | Subagent | Lead → 多系统汇总 → 报告生成 | research-agent |
| **应急处置辅助** | Subagent | Lead → 知识检索 → 方案匹配 | research-agent |
| **气量智能预测** | Skill | `mcp__prediction__gas_volume` | email-agent |

**日报生成 Subagent 的详细设计（参考 research-agent）**：

```
┌─────────────────────────────────────────────────────────────────┐
│                    日报生成 Subagent 架构                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   参考: research-agent 的 Lead → Researcher → Analyst → Writer │
│                                                                 │
│   ┌─────────────────────────────────────────────────────────┐  │
│   │              日报生成 Agent (主控)                       │  │
│   │  prompt: "你是港华场站日报生成专家，负责协调数据采集、    │  │
│   │          分析和报告生成..."                              │  │
│   └───────────────────────────┬─────────────────────────────┘  │
│                               │                                 │
│              Step 1: 数据采集 (调用 Skills)                     │
│              ─────────────────────────────                     │
│              mcp__top__query_station(station_id)               │
│              mcp__top__get_device_data(station_id)             │
│              mcp__top__get_gas_volume(station_id, date_range)  │
│                               │                                 │
│              Step 2: 数据分析 (本地处理或调用分析 Skill)         │
│              ─────────────────────────────                     │
│              • 计算日供气量变化                                 │
│              • 识别异常设备                                     │
│              • 对比历史数据                                     │
│                               │                                 │
│              Step 3: 报告生成 (模板 + LLM 润色)                  │
│              ─────────────────────────────                     │
│              • 填充日报模板                                     │
│              • LLM 生成摘要和建议                               │
│              • 格式化输出                                       │
│                                                                 │
│   输出文件: files/reports/{station_id}_{date}.md               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

| Skill | 描述 | 数据源 |
|-------|------|--------|
| 报表生成 | 自动生成运营报表 | TOP API |
| 合同审查 | 合同条款智能审查 | BIP API |
| 供应商评估 | 供应商风险分析 | BIP API |
| 工程预警 | 工程项目风险预警 | TOP API |

### 6.3 未来 AI 应用场景规划

基于港华燃气的业务特点和数字化转型需求，我们规划了覆盖 8 大业务领域的 AI 应用场景体系。

**场景覆盖领域：**

| 领域 | 场景数 | 典型场景 |
|------|--------|----------|
| **工程** | 7 | 工程质量智能审核、施工安全合规检测、工程风险智能预警 |
| **场站** | 8 | 设备健康诊断、场站巡检助手、操作规程智能问答 |
| **管网** | 8 | 泄漏智能检测、管网腐蚀评估、第三方施工监护 |
| **气源** | 8 | 气量智能预测、气源成本优化、供气平衡分析 |
| **市场开发** | 8 | 客户流失预警、增量业务智能推荐、项目投资回报预测 |
| **客服** | 8 | 智能客服对话、常见问题智能问答、投诉智能分类与派单 |
| **跨领域** | 5 | 全链路安全监控、运营日报自动生成、合规智能审查 |
| **综合能源** | 23 | 供热负荷预测、空调系统智能优化、多能源协同优化 |

**优先级排序（基于实现条件成熟度和业务价值）：**

| 优先级 | 数量 | 时间规划 | 特点 |
|--------|------|----------|------|
| **P0** | 6 个 | v0.2（立即启动） | 条件成熟，价值极高 |
| **P1** | 9 个 | v0.3（3-6 个月） | 条件较好，需开发 |
| **P2** | 10 个 | v1.0（6-12 个月） | 需要准备 |
| **P3** | 11 个 | 未来探索 | 需要较大投入 |

**P0 首批场景（建议立即启动）：**
1. 操作规程智能问答 → RAG + 知识库
2. 常见问题智能问答 → 复用知识库
3. 场站运行日报自动生成 → TOP 数据已有
4. 运营日报自动生成 → 跨系统汇总
5. 应急处置辅助 → 应急预案已有
6. 气量智能预测 → 历史数据完整

> 📋 各领域的详细场景描述、实现条件、业务价值、技术方案，以及完整的优先级排序表，请参见**附录 A：AI 应用场景详细规划**。

---

## 附录 A：AI 应用场景详细规划

> 本附录包含各业务领域的详细 AI 应用场景规划，包括实现条件、业务价值、技术方案及优先级排序。

### A.1 工程领域 (Engineering)

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **工程质量智能审核** | 基于现场照片/视频自动检测施工质量问题（焊接、防腐、埋深等） | ① 工程移动系统有现场照片/视频数据<br>② 有历史审核记录作为训练样本<br>③ 有质量标准文档（焊接规范、防腐标准等）<br>④ CV 模型需标注数据 | ⭐⭐⭐⭐⭐<br>• 减少人工审核工作量 70%<br>• 提升质量一致性，减少返工<br>• 降低质量事故风险<br>• 实现审核标准化 | CV + 规则引擎 + 知识库 |
| **施工安全合规检测** | 实时监测施工现场安全规范执行（劳保用品、作业流程、警戒区域） | ① 施工现场有视频监控覆盖<br>② 有安全规范文档（安全操作规程）<br>③ CV 行为识别模型需大量标注<br>④ 实时推送能力 | ⭐⭐⭐⭐<br>• 降低安全事故率<br>• 实时预警，缩短响应时间<br>• 提升安全管理水平<br>• 减少安全违规罚款 | 视频AI + 行为识别 |
| **工程量智能核算** | 根据设计图纸和现场数据自动核算工程量，对比预算 | ① 设计图纸数字化（CAD/PDF）<br>② 工程量计算规则文档<br>③ 预算系统数据对接<br>④ OCR 准确率要求高 | ⭐⭐⭐<br>• 减少人工核算误差 50%<br>• 控制成本超支<br>• 加快结算周期<br>• 提升核算透明度 | OCR + 数据分析 + 规则引擎 |
| **工程进度智能预测** | 基于历史数据预测项目完成时间，识别延期风险 | ① 历史工程项目数据（至少2年）<br>② 项目进度跟踪系统数据<br>③ 天气、节假日等外部数据<br>④ 预测模型训练数据 | ⭐⭐⭐⭐<br>• 提前预警延期风险<br>• 优化资源配置<br>• 提升项目交付率<br>• 减少延期罚款 | 时序预测 + 风险模型 |
| **隐蔽工程验收辅助** | 基于照片/视频自动生成隐蔽工程验收记录，检测关键指标 | ① 隐蔽工程照片/视频数据<br>② 验收标准文档<br>③ 验收记录模板<br>④ CV 模型需少量标注 | ⭐⭐⭐⭐<br>• 提高验收效率 60%<br>• 确保数据完整性<br>• 减少验收争议<br>• 实现验收数字化 | CV + NLP + 模板生成 |
| **材料智能识别** | 现场拍摄自动识别材料类型、规格、数量，核对配送清单 | ① 材料图片样本库<br>② 配送清单数据<br>③ 库存管理系统对接<br>④ CV 物体检测模型 | ⭐⭐⭐<br>• 减少人工盘点 50%<br>• 防止材料错用<br>• 提升库存准确率<br>• 减少材料浪费 | CV + 物体检测 + 库存匹配 |
| **工程风险智能预警** | 综合分析项目数据，识别成本超支、质量隐患、安全风险 | ① 多系统数据整合（进度、成本、质量、安全）<br>② 历史风险事件数据<br>③ 风险评估模型<br>④ 实时监控能力 | ⭐⭐⭐⭐⭐<br>• 主动风险管理<br>• 减少项目损失<br>• 提升项目成功率<br>• 支撑管理决策 | 多维数据分析 + 风险模型 |

### A.2 场站领域 (Station)

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **设备健康诊断** | 基于运行数据（压力、流量、温度）智能诊断设备健康状态 | ① TOP 系统有设备运行数据（SCADA/传感器）<br>② 设备故障历史记录<br>③ 设备维护记录<br>④ 时序数据质量良好 | ⭐⭐⭐⭐⭐<br>• 从事后维修转向预测性维护<br>• 降低设备故障率 30%<br>• 减少非计划停机<br>• 延长设备寿命，降低维护成本 | 时序分析 + 异常检测 + 诊断模型 |
| **调压器性能分析** | 分析调压器稳压性能曲线，预测维护需求 | ① 调压器运行数据（进出口压力）<br>② 调压器维护记录<br>③ 性能曲线标准<br>④ 历史故障数据 | ⭐⭐⭐⭐<br>• 确保供气稳定<br>• 延长设备寿命<br>• 减少供气压力波动投诉<br>• 优化维护计划 | 特征工程 + 回归模型 |
| **场站巡检助手** | AI 辅助巡检记录填写、异常识别、整改建议生成 | ① 巡检记录数字化<br>② 巡检标准文档<br>③ 异常案例库<br>④ NLP/CV 模型 | ⭐⭐⭐⭐⭐<br>• 提升巡检效率 50%<br>• 标准化巡检质量<br>• 减少漏检错检<br>• 加快整改闭环 | NLP + CV + 知识库 |
| **能耗异常分析** | 分析场站能耗数据，识别异常用能，优化节能方案 | ① 场站能耗计量数据<br>② 历史能耗基线<br>③ 异常能耗案例<br>④ 能耗分析模型 | ⭐⭐⭐<br>• 降低运营成本 10-15%<br>• 支撑 ESG 报告<br>• 发现节能空间<br>• 异常快速定位 | 时序分析 + 异常检测 |
| **安全态势感知** | 综合分析视频、传感、环境数据，实时评估场站安全态势 | ① 视频监控系统覆盖<br>② 传感器数据（气体、压力、温度）<br>③ 安全风险评估规则<br>④ 实时数据处理能力 | ⭐⭐⭐⭐<br>• 提升安全管理水平<br>• 主动预防事故<br>• 实时预警，缩短响应时间<br>• 减少安全事故损失 | 多模态融合 + 风险评估模型 |
| **操作规程智能问答** | 基于 DM50 等规范文件，提供操作规程智能问答 | ① DM50 等规范文档数字化<br>② RAG 向量数据库<br>③ 文档解析与向量化<br>④ 问答模型微调（可选） | ⭐⭐⭐⭐⭐<br>• 提升一线员工操作规范性<br>• 减少人为失误<br>• 降低培训成本<br>• 7x24 小时即时响应 | RAG + 知识库 |
| **应急处置辅助** | 发生异常时自动推送应急预案、处置步骤、联系人信息 | ① 应急预案文档<br>② 异常事件规则<br>③ 联系人信息库<br>④ 推送通道（企微/钉钉） | ⭐⭐⭐⭐⭐<br>• 缩短响应时间 50%<br>• 提高处置效率<br>• 减少处置失误<br>• 标准化应急流程 | 知识库 + 规则引擎 + 推送 |
| **场站运行日报自动生成** | 自动汇总运行数据，生成标准化运行日报 | ① TOP 系统运行数据<br>② 日报模板<br>③ 数据汇总规则<br>④ 自动推送能力 | ⭐⭐⭐⭐⭐<br>• 减少人工填报 80%<br>• 提升数据准确性<br>• 节省每日 30 分钟/人<br>• 标准化报表格式 | 数据集成 + 模板生成 |

### A.3 管网领域 (Pipeline Network)

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **泄漏智能检测** | 车犬联动检测数据智能分析，识别疑似泄漏点，生成处置工单 | ① 车犬联动检测数据（已有）<br>② GIS 管网数据<br>③ 历史泄漏记录<br>④ 工单系统对接 | ⭐⭐⭐⭐⭐<br>• 提高泄漏发现率 30%<br>• 缩短处置周期 50%<br>• 减少燃气泄漏损失<br>• 降低安全风险 | 数据分析 + GIS + 工作流 |
| **管网腐蚀评估** | 基于土壤环境、管材、年限等数据评估腐蚀风险 | ① 管网属性数据（管材、年限）<br>② 土壤环境数据<br>③ 历史腐蚀/泄漏记录<br>④ 风险评估模型 | ⭐⭐⭐⭐<br>• 主动预防泄漏<br>• 优化更换计划<br>• 延长管网寿命<br>• 降低维护成本 | 风险评估模型 + GIS |
| **管网压力优化** | 分析全网压力分布，优化调压策略，降低能耗 | ① 全网压力监测数据<br>② 调压器位置与能力<br>③ 用气负荷分布<br>④ 优化算法模型 | ⭐⭐⭐<br>• 优化供气效率<br>• 降低运营成本 5-10%<br>• 提升供气稳定性<br>• 减少压力波动投诉 | 优化算法 + 仿真模拟 |
| **爆管影响分析** | 模拟爆管场景，分析影响范围、关阀方案、用户影响 | ① GIS 管网拓扑数据<br>② 阀门位置与状态<br>③ 用户分布数据<br>④ 拓扑分析算法 | ⭐⭐⭐⭐<br>• 支撑应急决策<br>• 减少影响范围<br>• 缩短处置时间<br>• 提升应急响应能力 | GIS 拓扑分析 + 仿真 |
| **巡线路径优化** | 基于风险等级、历史数据、人员位置优化巡线路线 | ① 管网风险等级数据<br>② 历史巡线记录<br>③ 人员位置数据（GPS）<br>④ 路径优化算法 | ⭐⭐⭐<br>• 提高巡线效率 30%<br>• 覆盖高风险区域<br>• 优化人力资源配置<br>• 降低巡线成本 | 路径优化 + 风险评估 |
| **第三方施工监护** | 识别第三方施工风险，自动推送监护任务，跟踪处置状态 | ① 第三方施工报备数据<br>② 管网位置数据<br>③ 任务调度系统<br>④ 推送能力 | ⭐⭐⭐⭐<br>• 减少第三方破坏 50%<br>• 确保管网安全<br>• 自动化任务分派<br>• 提升监护效率 | 规则引擎 + 任务调度 |
| **管网老化预测** | 基于管材、年限、环境数据预测管网老化趋势，制定更换计划 | ① 管网属性数据<br>② 历史更换记录<br>③ 环境因素数据<br>④ 老化预测模型 | ⭐⭐⭐⭐<br>• 提前规划投资<br>• 避免突发故障<br>• 优化资本支出<br>• 降低安全风险 | 预测模型 + 规划优化 |
| **GIS 数据质量检测** | 自动检测 GIS 数据完整性、准确性，识别数据异常 | ① GIS 管网数据<br>② 数据质量规则<br>③ 对比参照数据<br>④ 异常检测模型 | ⭐⭐⭐<br>• 提升数据质量<br>• 支撑业务决策<br>• 减少数据错误导致的运营问题<br>• 建立数据治理机制 | 数据质量规则 + 异常检测 |

### A.4 气源领域 (Gas Source)

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **气量智能预测** | 基于历史数据、天气、节假日等多因子预测用气量 | ① 历史气量数据（至少3年）<br>② 天气预报数据接口<br>③ 节假日、特殊事件数据<br>④ 预测模型训练数据 | ⭐⭐⭐⭐⭐<br>• 优化采购计划<br>• 降低采购成本 5-10%<br>• 减少供需失衡<br>• 提升调度效率 | 时序预测 + 多因子模型 |
| **气源成本优化** | 分析不同气源价格、供应稳定性，优化采购组合 | ① 各气源价格数据<br>② 供应能力数据<br>③ 合同条款信息<br>④ 成本优化模型 | ⭐⭐⭐⭐<br>• 降低采购成本 3-8%<br>• 保障供应安全<br>• 优化采购组合<br>• 提升议价能力 | 优化算法 + 成本模型 |
| **供气平衡分析** | 实时监控供需平衡，预警供应紧张，建议调度方案 | ① 实时供求数据<br>② 储气设施状态<br>③ 预警规则<br>④ 调度建议模型 | ⭐⭐⭐⭐<br>• 确保供气稳定<br>• 避免供需失衡<br>• 提前预警，减少影响<br>• 优化调度决策 | 实时监控 + 预警 + 优化 |
| **气源质量监控** | 分析气源质量数据，识别质量波动，预警质量风险 | ① 气源质量检测数据<br>② 质量标准文档<br>③ 历史质量记录<br>④ 异常检测模型 | ⭐⭐⭐<br>• 确保供气质量<br>• 保护用户设备<br>• 减少质量投诉<br>• 提前预警风险 | 时序分析 + 异常检测 |
| **供应商智能评估** | 综合评估供应商交付能力、质量稳定性、价格竞争力 | ① 供应商履约数据<br>② 质量检测记录<br>③ 价格历史数据<br>④ 评估模型 | ⭐⭐⭐<br>• 优化供应商选择<br>• 降低供应风险<br>• 提升议价能力<br>• 支撑采购决策 | 多维评估模型 |
| **应急预案智能生成** | 基于供气紧张场景自动生成应急预案、调度方案 | ① 应急预案模板<br>② 供气紧张场景库<br>③ 调度规则<br>④ 仿真模拟能力 | ⭐⭐⭐⭐<br>• 缩短应急响应时间 60%<br>• 减少影响范围<br>• 标准化应急流程<br>• 提升应急能力 | 规则引擎 + 仿真模拟 |
| **气量异常分析** | 识别气量计量异常、偷盗气嫌疑，生成核查任务 | ① 气量计量数据<br>② 历史用量模式<br>③ 异常检测规则<br>④ 核查工单系统 | ⭐⭐⭐⭐<br>• 减少气量损失 2-5%<br>• 保障收益<br>• 打击偷盗气<br>• 提升计量准确性 | 异常检测 + 规则引擎 |
| **储气调峰优化** | 分析储气设施利用率，优化调峰策略 | ① 储气设施数据<br>② 用气负荷曲线<br>③ 价格波动数据<br>④ 优化模型 | ⭐⭐⭐<br>• 提高调峰能力<br>• 降低调峰成本<br>• 优化储气利用<br>• 提升供应保障 | 优化算法 + 仿真 |

### A.5 市场开发领域 (Market Development)

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **新用户开发潜力分析** | 基于人口密度、建筑分布、经济数据识别高潜力开发区域 | ① 人口/建筑分布数据（第三方）<br>② 现有用户分布数据<br>③ GIS 地图数据<br>④ 潜力评估模型 | ⭐⭐⭐<br>• 提升市场开发效率<br>• 精准投放资源<br>• 优化开发策略<br>• 提高开发成功率 | GIS + 多维数据分析 |
| **商业客户线索挖掘** | 分析企业工商数据、用能特征，识别潜在商业客户 | ① 企业工商数据（第三方）<br>② 用能特征数据<br>③ 线索评分规则<br>④ 数据采集团队 | ⭐⭐⭐<br>• 扩大商业客户群<br>• 提升营收<br>• 精准营销<br>• 提高转化率 | 数据挖掘 + 线索评分模型 |
| **竞争对手分析** | 监测竞品动态、价格策略、市场活动，分析竞争态势 | ① 竞品信息采集渠道<br>② 价格监测数据<br>③ 市场活动信息<br>④ 分析模型 | ⭐⭐<br>• 支撑差异化竞争策略<br>• 了解市场动态<br>• 优化定价<br>• 提升竞争力 | 数据采集 + 竞品分析模型 |
| **区域市场潜力评估** | 综合评估区域经济发展、人口增长、政策规划，预测市场空间 | ① 区域经济数据<br>② 人口增长预测<br>③ 政策规划文档<br>④ 评估模型 | ⭐⭐⭐<br>• 指导投资布局<br>• 优化资源配置<br>• 支撑战略决策<br>• 降低投资风险 | 预测模型 + 多因子分析 |
| **客户流失预警** | 分析用气量变化、服务记录、投诉数据，预测流失风险 | ① 客户用气量数据<br>② 服务/投诉记录<br>③ 历史流失案例<br>④ 预测模型 | ⭐⭐⭐⭐<br>• 提前挽留客户<br>• 减少流失 10-20%<br>• 提升客户满意度<br>• 保护营收 | 预测模型 + 客户画像 |
| **价格敏感度分析** | 分析客户对价格调整的反应，优化定价策略 | ① 历史调价数据<br>② 客户反应数据<br>③ 用量变化记录<br>④ 敏感度模型 | ⭐⭐<br>• 平衡营收与客户满意度<br>• 优化定价策略<br>• 降低调价风险<br>• 提升定价科学性 | 数据分析 + 敏感度模型 |
| **增量业务智能推荐** | 基于客户画像推荐延伸业务（燃气具、保险、维护服务） | ① 客户画像数据<br>② 延伸业务产品库<br>③ 历史销售记录<br>④ 推荐算法 | ⭐⭐⭐<br>• 提升客单价<br>• 增加收入 5-10%<br>• 精准营销<br>• 提升客户价值 | 推荐算法 + 客户画像 |
| **项目投资回报预测** | 预测管网延伸、新区域开发的投资回报周期 | ① 历史投资项目数据<br>② 成本收益模型<br>③ 市场预测数据<br>④ 财务模型 | ⭐⭐⭐<br>• 提升投资决策科学性<br>• 降低投资风险<br>• 优化投资组合<br>• 提高投资回报率 | 财务模型 + 预测分析 |

### A.6 客服领域 (Customer Service)

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **智能客服对话** | 7x24 小时 AI 客服，处理咨询、报修、投诉等常见问题 | ① 客服知识库文档<br>② 历史对话记录<br>③ 业务系统 API（查询、报修）<br>④ 多轮对话能力 | ⭐⭐⭐⭐⭐<br>• 降低人工客服成本 30-50%<br>• 提升响应速度（秒级）<br>• 7x24 小时服务<br>• 提升客户满意度 | Agent + NLP + 知识库 |
| **报装流程智能引导** | 智能引导用户完成报装申请，自动预审材料，预估费用 | ① 报装流程文档<br>② 材料清单规则<br>③ 费用估算模型<br>④ 业务系统对接 | ⭐⭐⭐⭐<br>• 简化报装流程<br>• 提升用户体验<br>• 减少人工干预<br>• 提高报装转化率 | 流程引擎 + 知识库 |
| **投诉智能分类与派单** | 自动识别投诉类型、紧急程度，智能分派处理人员 | ① 历史投诉分类数据<br>② 派单规则<br>③ 处理人员能力画像<br>④ 分类模型 | ⭐⭐⭐⭐<br>• 提升投诉处理效率 40%<br>• 缩短响应时间<br>• 精准派单<br>• 提升客户满意度 | NLP 分类 + 规则引擎 |
| **客服话术智能推荐** | 根据对话上下文实时推荐最优话术、解决方案 | ① 话术知识库<br>② 历史优秀对话案例<br>③ 实时推荐引擎<br>④ 对话上下文理解 | ⭐⭐⭐<br>• 提升客服质量<br>• 标准化服务<br>• 缩短培训周期<br>• 提高解决率 | Agent + 知识库 + 实时推荐 |
| **客户情绪分析** | 实时分析客户情绪变化，预警升级风险 | ① 语音/文本数据<br>② 情绪标注数据<br>③ 预警规则<br>④ 情感分析模型 | ⭐⭐⭐<br>• 主动干预<br>• 降低投诉升级 30%<br>• 提升服务质量<br>• 保护品牌声誉 | 语音/文本情感分析 |
| **常见问题智能问答** | 基于知识库自动回答气价、缴费、安全等常见问题 | ① FAQ 知识库<br>② 气价、政策等文档<br>③ RAG 向量数据库<br>④ 问答准确率优化 | ⭐⭐⭐⭐⭐<br>• 减少人工咨询量 50%<br>• 提升自助服务率<br>• 降低客服成本<br>• 7x24 小时响应 | RAG + 知识库 |
| **服务质量智能评估** | 分析通话录音、对话记录，评估客服质量，识别改进点 | ① 通话录音/对话记录<br>② 质量评估标准<br>③ 标注数据<br>④ 评估模型 | ⭐⭐⭐<br>• 提升服务质量<br>• 指导培训<br>• 发现问题点<br>• 标准化评估 | NLP + 质量评估模型 |
| **回访任务智能生成** | 基于服务记录自动生成回访任务，跟踪问题解决 | ① 服务记录数据<br>② 回访规则<br>③ 任务调度系统<br>④ 推送能力 | ⭐⭐⭐<br>• 确保问题闭环<br>• 提升客户满意度<br>• 减少遗漏<br>• 自动化任务管理 | 规则引擎 + 任务调度 |

### A.7 跨领域综合场景

| 场景 | 描述 | 实现条件 | 业务价值 | 涉及领域 |
|------|------|----------|----------|----------|
| **全链路安全监控** | 从气源→场站→管网→用户的全链路安全态势感知 | ① 多系统数据整合（TOP、SCADA、GIS）<br>② 安全指标体系<br>③ 实时监控能力<br>④ 跨系统数据治理 | ⭐⭐⭐⭐<br>• 全局安全可视<br>• 主动风险管控<br>• 提升安全水平<br>• 支撑安全决策 | 气源+场站+管网 |
| **运营日报自动生成** | 跨系统数据汇总，自动生成运营日报/周报/月报 | ① 多系统数据接入<br>② 报表模板库<br>③ 数据汇总规则<br>④ 自动推送能力 | ⭐⭐⭐⭐⭐<br>• 减少人工汇总 80%<br>• 提升效率<br>• 数据准确性高<br>• 标准化报表 | 全领域 |
| **智能排班优化** | 基于业务量、人员技能、地理位置智能排班 | ① 业务量预测数据<br>② 人员技能画像<br>③ 地理位置数据<br>④ 排班优化算法 | ⭐⭐⭐<br>• 优化人力资源配置<br>• 提升工作效率<br>• 降低人力成本<br>• 提高员工满意度 | 工程+场站+管网 |
| **投资决策辅助** | 基于设备状态、管网老化、业务增长预测投资需求 | ① 设备/管网状态数据<br>② 业务增长预测<br>③ 投资回报模型<br>④ 决策支持模型 | ⭐⭐⭐<br>• 提升投资决策科学性<br>• 优化投资组合<br>• 降低投资风险<br>• 提高投资回报率 | 全领域 |
| **合规智能审查** | 自动检查业务操作是否符合法规、标准、制度要求 | ① 法规/标准/制度文档<br>② 业务操作记录<br>③ 合规检查规则<br>④ RAG 知识库 | ⭐⭐⭐⭐<br>• 降低合规风险<br>• 确保运营合规<br>• 减少人工审查<br>• 提升审查效率 | 全领域 |

### A.8 综合能源服务领域 (Integrated Energy Services)

综合能源服务是港华的战略增长业务，涵盖节能服务、供热供暖、多能耦合等领域。

**A.8.1 公共建筑节能**

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **建筑能耗基线分析** | 基于历史数据建立建筑能耗基线，识别节能空间 | ① 建筑能耗计量数据（至少1年）<br>② 建筑基本信息（面积、类型）<br>③ 基线模型算法<br>④ 历史天气数据 | ⭐⭐⭐⭐<br>• 明确节能目标<br>• 量化改造效果<br>• 支撑节能决策<br>• 提供节能基线 | 时序分析 + 基线模型 |
| **空调系统智能优化** | 根据室内外温度、人流、时段智能调节空调运行策略 | ① 空调系统控制接口<br>② 室内/外温度传感器<br>③ 人流检测数据<br>④ 优化控制算法 | ⭐⭐⭐⭐<br>• 降低空调能耗 15-30%<br>• 提升舒适度<br>• 自动化运行<br>• 降低运维成本 | 优化算法 + 预测控制 |
| **照明智能控制** | 基于自然光、人员活动智能调节照明亮度和开关 | ① 智能照明系统<br>② 光照传感器<br>③ 人员检测传感器<br>④ 控制规则 | ⭐⭐⭐<br>• 降低照明能耗 20-40%<br>• 提升舒适度<br>• 自动化控制<br>• 延长灯具寿命 | 规则引擎 + 传感融合 |
| **能耗异常诊断** | 实时监测能耗数据，自动识别异常用能并定位原因 | ① 实时能耗监测数据<br>② 异常检测模型<br>③ 诊断规则库<br>④ 告警推送能力 | ⭐⭐⭐⭐<br>• 快速发现能耗异常<br>• 减少能源浪费<br>• 降低用能成本<br>• 主动运维 | 异常检测 + 诊断模型 |
| **节能改造效果评估** | 对比改造前后能耗数据，量化节能效果，验证投资回报 | ① 改造前后能耗数据<br>② 天气等校正因子<br>③ 统计分析方法<br>④ ROI 计算模型 | ⭐⭐⭐<br>• 验证改造效果<br>• 支撑后续决策<br>• 量化投资回报<br>• 建立案例库 | 对比分析 + 统计检验 |
| **建筑能效评级** | 综合评估建筑能效水平，对标行业标准，生成改进建议 | ① 建筑能耗数据<br>② 能效评级标准<br>③ 行业对标数据<br>④ 评分模型 | ⭐⭐⭐<br>• 了解能效水平<br>• 指导改造优先级<br>• 支撑节能规划<br>• 对标行业水平 | 评分模型 + 对标分析 |

**A.8.2 工业节能**

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **工业能耗分析** | 分析生产线、设备能耗构成，识别高耗能环节 | ① 分项计量数据<br>② 生产数据<br>③ 能耗分析模型<br>④ 可视化平台 | ⭐⭐⭐<br>• 明确节能重点<br>• 优化用能结构<br>• 支撑节能决策<br>• 发现节能空间 | 数据分析 + 可视化 |
| **余热回收优化** | 分析工业余热产生与利用，优化余热回收系统运行 | ① 余热产生数据<br>② 余热利用数据<br>③ 热力学模型<br>④ 优化算法 | ⭐⭐⭐<br>• 提高能源利用率<br>• 降低能耗<br>• 减少能源浪费<br>• 降低成本 | 热力学模型 + 优化算法 |
| **生产排程优化** | 结合电价、气价、订单需求优化生产排程，降低用能成本 | ① 电价/气价数据<br>② 订单需求<br>③ 生产能力约束<br>④ 优化算法 | ⭐⭐⭐<br>• 降低用能成本 5-15%<br>• 提升生产效率<br>• 优化资源配置<br>• 自动化排程 | 优化算法 + 约束求解 |
| **设备能效评估** | 评估关键设备能效水平，识别低效设备，建议更换或改造 | ① 设备能耗数据<br>② 设备运行参数<br>③ 能效标准<br>④ 评估模型 | ⭐⭐⭐<br>• 指导设备升级<br>• 降低能耗<br>• 优化投资决策<br>• 建立设备档案 | 能效模型 + 对标分析 |
| **节能潜力识别** | 综合分析工艺、设备、管理数据，识别节能潜力点 | ① 多维数据整合<br>② 节能案例库<br>③ 专家经验规则<br>④ 数据挖掘模型 | ⭐⭐⭐<br>• 发现隐藏节能机会<br>• 指导改造<br>• 提升能效<br>• 建立节能清单 | 数据挖掘 + 专家系统 |

**A.8.3 供热/供暖服务**

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **供热负荷预测** | 基于天气、建筑特性、历史数据预测供热负荷 | ① 历史供热数据<br>② 天气预报数据<br>③ 建筑热特性<br>④ 预测模型 | ⭐⭐⭐⭐⭐<br>• 优化供热调度<br>• 降低能耗 10-20%<br>• 提升供热质量<br>• 减少供需失衡 | 时序预测 + 多因子模型 |
| **燃机锅炉效率优化** | 实时监测锅炉运行参数，优化燃烧策略，提升热效率 | ① 锅炉运行数据<br>② 燃烧控制接口<br>③ 效率模型<br>④ 优化算法 | ⭐⭐⭐⭐<br>• 提升锅炉效率 3-5%<br>• 降低燃料消耗<br>• 减少排放<br>• 延长设备寿命 | 优化控制 + 燃烧模型 |
| **多能耦合调度优化** | 协调燃气、电力、可再生能源等多种能源，优化供能组合 | ① 多能源系统数据<br>② 能源价格数据<br>③ 负荷需求数据<br>④ 多目标优化算法 | ⭐⭐⭐<br>• 降低综合用能成本<br>• 提升可靠性<br>• 优化能源组合<br>• 支撑双碳目标 | 多目标优化 + 能源模型 |
| **供暖管网水力平衡** | 分析供暖管网水力平衡，优化调节策略，确保各端供热均匀 | ① 管网水力数据<br>② 水力模型<br>③ 调节阀控制<br>④ 优化算法 | ⭐⭐⭐<br>• 提升供热质量<br>• 减少投诉<br>• 降低能耗<br>• 优化水力平衡 | 水力模型 + 优化算法 |
| **供暖温度智能调节** | 根据室外温度、建筑热惯性智能调节供水温度 | ① 室外温度数据<br>② 建筑热惯性参数<br>③ 供热控制接口<br>④ 预测控制算法 | ⭐⭐⭐⭐<br>• 保证舒适度<br>• 避免过热浪费<br>• 降低能耗 5-10%<br>• 自动化运行 | 预测控制 + 热力模型 |
| **供热能耗分析** | 分析供热系统能耗构成，识别节能空间，优化运行策略 | ① 供热能耗数据<br>② 系统效率数据<br>③ 能耗分析模型<br>④ 对标数据 | ⭐⭐⭐<br>• 降低供热成本<br>• 提升能效<br>• 发现节能空间<br>• 优化运行策略 | 数据分析 + 能效模型 |

**A.8.4 综合能源管理**

| 场景 | 描述 | 实现条件 | 业务价值 | 技术方案 |
|------|------|----------|----------|----------|
| **多能源协同优化** | 协调电、气、热、冷等多种能源的生产、存储、消费 | ① 多能源系统数据<br>② 能源价格数据<br>③ 负荷需求数据<br>④ 复杂优化算法 | ⭐⭐<br>• 最大化能源利用效率<br>• 降低成本<br>• 支撑双碳目标<br>• 提升系统灵活性 | 多目标优化 + 能源模型 |
| **储能调度优化** | 优化储能系统充放电策略，利用峰谷价差降低成本 | ① 储能系统数据<br>② 电价数据<br>③ 负荷预测<br>④ 调度优化算法 | ⭐⭐⭐<br>• 降低用能成本<br>• 提升系统灵活性<br>• 获取峰谷价差收益<br>• 支撑电网稳定 | 优化算法 + 价格预测 |
| **能源成本优化** | 分析能源价格走势，优化采购策略和用能时序 | ① 能源价格数据<br>② 用能需求数据<br>③ 价格预测模型<br>④ 采购策略模型 | ⭐⭐⭐<br>• 降低能源采购成本<br>• 优化采购时机<br>• 规避价格风险<br>• 提升采购效率 | 价格预测 + 优化算法 |
| **碳排放监测与分析** | 实时监测碳排放，分析碳排放构成，支撑减碳决策 | ① 能源消耗数据<br>② 碳排放因子<br>③ 碳核算模型<br>④ 监测平台 | ⭐⭐⭐<br>• 支撑双碳目标<br>• 满足合规要求<br>• 发现减碳空间<br>• 支撑碳交易决策 | 数据采集 + 碳核算模型 |
| **需求响应管理** | 响应电网需求侧管理信号，调整用能策略获取收益 | ① 电网需求响应信号<br>② 可调节负荷<br>③ 响应策略<br>④ 自动控制能力 | ⭐⭐<br>• 获取需求响应收益<br>• 支撑电网稳定<br>• 提升系统灵活性<br>• 降低用能成本 | 信号处理 + 优化控制 |
| **能源系统故障预警** | 监测能源系统运行状态，预测设备故障，提前预警 | ① 设备运行数据<br>② 故障历史记录<br>③ 预警模型<br>④ 告警推送 | ⭐⭐⭐<br>• 减少非计划停机<br>• 降低维护成本<br>• 提升系统可靠性<br>• 主动运维 | 异常检测 + 预测模型 |

### A.9 场景优先级排序

基于各场景的**实现条件成熟度**和**业务价值**进行综合评估，重新排序如下：

**评估维度说明：**

| 维度 | 评分标准 |
|------|----------|
| **数据可用性** | 5=数据完整且数字化，3=部分数据可用，1=数据缺失或需大量采集 |
| **API 可用性** | 5=API 已有且稳定，3=API 需开发，1=无 API 需新建 |
| **知识库准备** | 5=文档已数字化，3=文档需整理，1=文档缺失 |
| **技术成熟度** | 5=技术成熟可直接用，3=需适配优化，1=技术需研发 |
| **业务价值** | 5=极高价值（成本/效率/安全显著提升），3=中等价值，1=价值有限 |

**优先级 = (数据可用性 + API 可用性 + 知识库准备 + 技术成熟度) × 业务价值 / 4**

---

**🚀 P0 - 第一批（v0.2）- 立即启动**

> 条件成熟、价值极高、可快速见效

| 排名 | 场景 | 领域 | 综合评分 | 实现条件 | 业务价值 | 推荐理由 |
|------|------|------|----------|----------|----------|----------|
| 1 | **操作规程智能问答** | 场站 | 25 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | DM50 等文档已有，RAG 技术成熟，可快速落地，解决一线员工查询难题 |
| 2 | **常见问题智能问答** | 客服 | 24 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | FAQ 文档已有，技术成熟，可大幅减少人工咨询，ROI 明显 |
| 3 | **场站运行日报自动生成** | 场站 | 24 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | TOP 数据已有，模板化生成技术简单，每日节省大量人工 |
| 4 | **运营日报自动生成** | 跨域 | 23 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 跨系统汇总，价值高，技术简单，是展示 AI 能力的好案例 |
| 5 | **应急处置辅助** | 场站 | 22 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 应急预案已有，规则引擎成熟，可显著提升应急响应效率 |
| 6 | **气量智能预测** | 气源 | 21 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 历史数据完整，预测模型成熟，直接降低采购成本 |

**📋 P1 - 第二批（v0.3）- 条件较好**

> 数据/技术条件较好，需要一定开发工作

| 排名 | 场景 | 领域 | 综合评分 | 实现条件 | 业务价值 | 推荐理由 |
|------|------|------|----------|----------|----------|----------|
| 7 | **场站巡检助手** | 场站 | 20 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 巡检记录已有，可提升巡检效率和标准化程度 |
| 8 | **智能客服对话** | 客服 | 20 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 知识库可复用，Agent 能力成熟，可大幅降低客服成本 |
| 9 | **泄漏智能检测** | 管网 | 19 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 车犬联动数据已有，可提高泄漏发现率和处置效率 |
| 10 | **设备健康诊断** | 场站 | 19 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | SCADA 数据可用，可从事后维修转向预测性维护 |
| 11 | **工程质量智能审核** | 工程 | 18 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 现场照片已有，CV 技术成熟，可大幅减少人工审核 |
| 12 | **供热负荷预测** | 综合能源 | 18 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 历史数据可用，预测模型成熟，可优化供热调度 |
| 13 | **投诉智能分类与派单** | 客服 | 18 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 历史投诉数据可用，NLP 分类技术成熟 |
| 14 | **气源成本优化** | 气源 | 17 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 价格数据可用，优化模型可降低采购成本 |
| 15 | **燃机锅炉效率优化** | 综合能源 | 17 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 运行数据可用，可提升锅炉效率降低燃料消耗 |

**🔧 P2 - 第三批（v1.0）- 需要准备**

> 需要数据准备或技术攻关

| 排名 | 场景 | 领域 | 综合评分 | 实现条件 | 业务价值 | 推荐理由 |
|------|------|------|----------|----------|----------|----------|
| 16 | **隐蔽工程验收辅助** | 工程 | 16 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 照片数据可用，可提高验收效率 |
| 17 | **管网腐蚀评估** | 管网 | 16 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 管网属性数据可用，可主动预防泄漏 |
| 18 | **供暖温度智能调节** | 综合能源 | 16 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 温度数据可用，可自动调节降低能耗 |
| 19 | **客户流失预警** | 市场 | 15 | ⭐⭐⭐ | ⭐⭐⭐⭐ | 用量数据可用，可提前挽留客户 |
| 20 | **工程风险智能预警** | 工程 | 15 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 需多系统数据整合，但价值极高 |
| 21 | **第三方施工监护** | 管网 | 15 | ⭐⭐⭐ | ⭐⭐⭐⭐ | 报备数据可用，可减少第三方破坏 |
| 22 | **能耗异常诊断** | 综合能源 | 15 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 能耗数据可用，可快速发现异常 |
| 23 | **报装流程智能引导** | 客服 | 15 | ⭐⭐⭐ | ⭐⭐⭐⭐ | 流程文档已有，可简化报装流程 |
| 24 | **建筑能耗基线分析** | 综合能源 | 15 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 能耗数据可用，可明确节能目标 |

**🔍 P3 - 未来探索 - 需要较大投入**

> 数据/技术条件不成熟，或价值有限

| 排名 | 场景 | 领域 | 综合评分 | 主要障碍 |
|------|------|------|----------|----------|
| 25 | 施工安全合规检测 | 工程 | 14 | 需要大量视频标注，CV 行为识别难度较高 |
| 26 | 安全态势感知 | 场站 | 14 | 需要多模态融合，技术复杂度高 |
| 27 | 爆管影响分析 | 管网 | 14 | GIS 拓扑数据质量依赖高 |
| 28 | 管网老化预测 | 管网 | 13 | 需要长期历史数据和老化模型 |
| 29 | 空调系统智能优化 | 综合能源 | 13 | 需要空调系统控制接口改造 |
| 30 | 多能耦合调度优化 | 综合能源 | 12 | 多能源系统复杂，优化模型难度高 |
| 31 | 全链路安全监控 | 跨域 | 12 | 需要多系统数据整合，数据治理复杂 |
| 32 | 客户情绪分析 | 客服 | 11 | 需要大量语音/文本标注数据 |
| 33 | 多能源协同优化 | 综合能源 | 10 | 技术复杂度高，需要深度建模 |
| 34 | 工程量智能核算 | 工程 | 10 | OCR 识别图纸准确率要求高 |
| 35 | 碳排放监测与分析 | 综合能源 | 10 | 需要完善的碳排放因子库 |

---

**📊 优先级分布统计：**

| 优先级 | 数量 | 特点 | 建议时间 |
|--------|------|------|----------|
| P0 | 6 个 | 条件成熟，价值极高 | v0.2（立即启动） |
| P1 | 9 个 | 条件较好，需开发 | v0.3（3-6 个月） |
| P2 | 10 个 | 需要准备 | v1.0（6-12 个月） |
| P3 | 11 个 | 需要较大投入 | 未来探索 |

**🎯 建议首批启动的 6 个场景：**

```
┌─────────────────────────────────────────────────────────────────┐
│                    P0 首批场景（v0.2）                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   1. 操作规程智能问答     → RAG + 知识库，快速落地             │
│   2. 常见问题智能问答     → 复用知识库，降低客服成本           │
│   3. 场站运行日报自动生成 → TOP 数据已有，模板化生成           │
│   4. 运营日报自动生成     → 跨系统汇总，展示 AI 能力           │
│   5. 应急处置辅助         → 应急预案已有，规则引擎             │
│   6. 气量智能预测         → 历史数据完整，降低采购成本         │
│                                                                 │
│   共同特点：                                                    │
│   ✅ 数据/知识库已存在或易获取                                  │
│   ✅ 技术方案成熟（RAG、模板生成、规则引擎）                    │
│   ✅ 业务价值明确，ROI 可量化                                   │
│   ✅ 可在 2-3 个月内交付                                        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 七、技术架构

> **设计原则**：采用"通用 Runtime + 行业 Domain Pack"的分层架构，核心能力可复用于任何企业。

### 7.0 从 Demo 项目学到的架构模式

> **参考资源**：Claude Agent SDK 官方 Demo 项目 - https://github.com/anthropics/claude-agent-sdk-demos
>
> 遇到不清楚的架构设计逻辑时，可参考此仓库中的 demo 实现。

**Claude Agent SDK 官方 Demo 项目架构对照**：

| Demo 项目 | 核心模式 | 我们学到的 | Towngas Manus 应用 |
|-----------|----------|------------|-------------------|
| **hello-world** | 单一 Agent 基础架构 | 最小可行 Agent | Manus 主 Agent 基础框架 |
| **email-agent** | MCP 工具集成 | 用工具封装外部系统 | TOP/BIP API 的 MCP 封装 |
| **research-agent** | 多代理协调 | Lead + Subagents 模式 | 日报生成等复杂场景 |
| **excel-demo** | 结构化输出 | 确定性输出格式 | 报表生成格式控制 |

**AgentDefinition 声明式模式**（从 research-agent 学到）：

```python
# research-agent 的代理定义方式
researcher_agent = AgentDefinition(
    name="researcher",
    description="Search and collect relevant information",
    tools=[WebSearch(), WebFetch()],
    prompt=researcher_prompt,
    model="claude-sonnet-4-5"
)

# Towngas Manus 的代理定义方式
daily_report_agent = AgentDefinition(
    name="daily_report_generator",
    description="生成运营日报，汇总多系统数据",
    tools=[TOPAdapter(), KnowledgeBase(), ReportTemplate()],
    prompt=daily_report_prompt,
    model="claude-sonnet-4-5"
)
```

**Hooks 事件驱动模式**（从 Demo 学到）：

```python
# 用于追踪、监控、日志
@hook(PreToolUse)
async def log_tool_use(tool_name, params):
    logger.info(f"Tool called: {tool_name}")

@hook(PostToolUse)
async def cache_result(tool_name, result):
    if should_cache(tool_name):
        cache.set(tool_name, result)
```

### 7.1 架构分层理念

```
┌─────────────────────────────────────────────────────────────────────┐
│                        架构分层设计                                   │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   Layer 1: 通用 Agent Runtime（技术逻辑，行业无关）                   │
│   ─────────────────────────────────────────────                     │
│   • Agent 执行引擎、会话管理、上下文压缩                              │
│   • 技能注册机制、工具调用框架                                        │
│   • 适配器接口标准（数据源、知识库、认证）                            │
│   • 可复用于任何企业、任何行业                                        │
│                                                                     │
│   Layer 2: 行业 Domain Pack（垂直适配，业务相关）                     │
│   ─────────────────────────────────────────────                     │
│   • 具体业务系统的数据适配器                                          │
│   • 行业知识库和 RAG 配置                                             │
│   • 领域专用 Skills                                                   │
│   • 认证/权限对接                                                     │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

类比：
- Kubernetes = 通用容器编排平台
- 你的业务应用 = 部署在 K8S 上的具体负载

- Agent Runtime = 通用智能体运行时
- Towngas Domain Pack = 港华燃气垂直适配包
```

### 7.2 通用 Agent Runtime 架构

```
                                    ┌─────────────────┐
                                    │   Claude API    │
                                    │  (Anthropic)    │
                                    └────────┬────────┘
                                             │
┌────────────────────────────────────────────┼────────────────────┐
│                        Agent Runtime (通用) │                    │
│  ┌─────────────────────────────────────────▼──────────────────┐│
│  │                      API Gateway                            ││
│  │                    (FastAPI)                                ││
│  └─────────────────────────────────┬──────────────────────────┘│
│                                    │                           │
│  ┌─────────────────────────────────▼──────────────────────────┐│
│  │                    Agent Engine                             ││
│  │  ┌────────────┐ ┌────────────┐ ┌────────────┐             ││
│  │  │ Session    │ │  Skills    │ │  Context   │             ││
│  │  │ Manager    │ │  Registry  │ │  Manager   │             ││
│  │  └────────────┘ └────────────┘ └────────────┘             ││
│  │  ┌────────────┐ ┌────────────┐ ┌────────────┐             ││
│  │  │ Subagent   │ │ Compaction │ │  Tool      │             ││
│  │  │ Manager    │ │  Manager   │ │  Framework │             ││
│  │  └────────────┘ └────────────┘ └────────────┘             ││
│  └─────────────────────────────────┬──────────────────────────┘│
│                                    │                           │
│  ┌─────────────────────────────────▼──────────────────────────┐│
│  │              Extension Interfaces (扩展接口)                ││
│  │  ┌────────────┐ ┌────────────┐ ┌────────────┐             ││
│  │  │ DataSource │ │ Knowledge  │ │  Auth      │             ││
│  │  │ Adapter    │ │ Provider   │ │  Provider  │             ││
│  │  │ Interface  │ │ Interface  │ │ Interface  │             ││
│  │  └────────────┘ └────────────┘ └────────────┘             ││
│  └────────────────────────────────────────────────────────────┘│
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**技术选型（通用层）：**

| 组件 | 技术选型 | 说明 |
|------|----------|------|
| **AI 引擎** | Claude Agent SDK | Anthropic 官方 SDK |
| **后端框架** | FastAPI (Python) | 异步框架，AI 生态丰富 |
| **交互界面** | Web Chat / 嵌入式 | 可嵌入任何业务系统 |
| **存储** | JSON → PostgreSQL | 可插拔存储后端 |
| **部署** | Docker + K8S | 云原生部署 |

### 7.3 港华领域适配包 (Towngas Domain Pack)

港华燃气的垂直适配，作为通用 Runtime 的一个 Domain Pack 实现：

```
┌─────────────────────────────────────────────────────────────────────┐
│                  Towngas Domain Pack (港华适配包)                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   ┌─────────────────────────────────────────────────────────────┐  │
│   │              Data Source Adapters (数据适配器)               │  │
│   │  ┌────────────┐ ┌────────────┐ ┌────────────┐              │  │
│   │  │ TOP        │ │ BIP        │ │ TCIS       │              │  │
│   │  │ Adapter    │ │ Adapter    │ │ Adapter    │              │  │
│   │  │ (生产运行) │ │ (ERP系统)  │ │ (客服系统) │              │  │
│   │  └────────────┘ └────────────┘ └────────────┘              │  │
│   └─────────────────────────────────────────────────────────────┘  │
│                                                                     │
│   ┌─────────────────────────────────────────────────────────────┐  │
│   │              Knowledge Provider (知识提供者)                 │  │
│   │  ┌────────────┐ ┌────────────┐ ┌────────────┐              │  │
│   │  │ 燃气行业   │ │ 港华制度   │ │ 设备知识   │              │  │
│   │  │ 知识库     │ │ 规范库     │ │ 库         │              │  │
│   │  └────────────┘ └────────────┘ └────────────┘              │  │
│   └─────────────────────────────────────────────────────────────┘  │
│                                                                     │
│   ┌─────────────────────────────────────────────────────────────┐  │
│   │              Domain Skills (领域技能)                        │  │
│   │  ┌────────────┐ ┌────────────┐ ┌────────────┐              │  │
│   │  │ 场站查询   │ │ 设备诊断   │ │ 安全预警   │              │  │
│   │  │ Skill      │ │ Skill      │ │ Skill      │              │  │
│   │  └────────────┘ └────────────┘ └────────────┘              │  │
│   └─────────────────────────────────────────────────────────────┘  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 7.4 与 TOP 系统集成

TOP 系统是港华自研的生产运行平台，技术栈为 **Java Spring Boot + Vue 3 + MySQL + K8S**。

**重要原则：Agent Runtime 与业务系统技术栈独立，通过 API 松耦合集成。**

```
┌─────────────────────────────────────────────────────────────────┐
│                      技术栈边界                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   Agent Runtime (通用)          TOP 系统 (港华业务)              │
│   ┌─────────────┐              ┌─────────────┐                  │
│   │   Python    │              │    Java     │                  │
│   │  FastAPI    │◀── REST ───▶│ Spring Boot │                  │
│   │ Claude SDK  │    API       │   Vue 3     │                  │
│   └─────────────┘              └─────────────┘                  │
│                                                                 │
│   职责: 通用智能层               职责: 业务系统                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**TOP Adapter 实现方案：**

```
┌─────────────────┐      ┌─────────────────┐
│  Agent Runtime  │      │   TOP 系统      │
│   (通用层)      │      │  (Spring Boot)  │
├─────────────────┤      ├─────────────────┤
│                 │      │                 │
│  TOP Adapter    │◀────▶│  REST API       │
│  (Domain Pack)  │ HTTP │  - 场站服务     │
│  - 场站数据     │ JSON │  - 设备服务     │
│  - 设备数据     │      │  - 气量服务     │
│  - 气量数据     │      │                 │
│                 │      │                 │
└─────────────────┘      └─────────────────┘
```

### 7.5 扩展性：其他企业如何复用

```
假设另一家企业（如水务公司）想使用此架构：

1. 复用通用 Agent Runtime（无需修改）
   ├── Agent Engine
   ├── Session Manager
   ├── Skills Registry
   └── Extension Interfaces

2. 实现自己的 Domain Pack
   ├── WaterSystem Adapter（水务系统适配器）
   ├── WaterIndustry Knowledge（水务行业知识库）
   └── WaterDomain Skills（水务领域技能）

成本：只需开发 Domain Pack，复用通用 Runtime
```

---

## 八、非功能需求

### 8.1 性能要求

| 指标 | 目标 |
|------|------|
| API 响应时间 | < 100ms（非 AI 调用） |
| AI 响应首字 | < 2s |
| 并发用户 | MVP: 10，v1.0: 100+ |
| 可用性 | 99.5% |

### 8.2 安全要求

| 要求 | 说明 |
|------|------|
| 数据加密 | 传输 HTTPS，敏感数据加密存储 |
| 访问控制 | 基于港华统一认证（v0.2+） |
| 审计日志 | 记录所有操作（v1.0） |
| 数据隔离 | 各子公司数据隔离（v1.0） |

### 8.3 可维护性

| 要求 | 说明 |
|------|------|
| 代码规范 | 遵循 PEP 8，TypeScript 严格模式 |
| 测试覆盖 | 单元测试 80%+ |
| 文档完善 | API 文档、部署文档、运维手册 |
| 监控告警 | 接入港华监控平台 |

---

## 九、项目规划

### 9.1 里程碑

| 阶段 | 内容 | 时间 |
|------|------|------|
| **v0.1 MVP** | 核心功能、基础架构 | ✅ 已完成 |
| **v0.2 数据接入** | TOP API、知识库、港华 Skills | Q2 2026 |
| **v0.3 增强** | 企业认证、消息推送 | Q3 2026 |
| **v1.0 Agent OS** | 多租户、权限、审计 | Q4 2026 |

### 9.2 v0.2 详细计划

```
v0.2 数据接入阶段
├── Sprint 1: TOP API 集成
│   ├── TOP API 调研与对接
│   ├── TOP Adapter 开发
│   └── 场站查询 Skill
│
├── Sprint 2: 知识库接入
│   ├── 知识库选型（向量数据库）
│   ├── RAG Pipeline 开发
│   └── 知识问答 Skill
│
└── Sprint 3: 综合验证
    ├── 端到端测试
    ├── 用户试用
    └── 问题修复
```

---

## 十、成功指标

### 10.1 MVP 验收标准

- [x] Agent 可以正常执行对话
- [x] Skills 可以注册和调用
- [x] 会话可以持久化
- [x] Web Chat 可用
- [x] API 文档完整

### 10.2 v0.2 验收标准

- [ ] 可以查询 TOP 系统场站数据
- [ ] 可以基于知识库回答问题
- [ ] 响应准确率 > 80%
- [ ] 用户满意度 > 4.0/5.0

### 10.3 业务价值指标

| 指标 | 目标 |
|------|------|
| 用户采用率 | v0.2: 3个子公司试点 |
| 日常活跃用户 | v0.2: 50+ |
| 平均查询响应时间 | < 5s |
| 替代人工查询比例 | > 30% |

---

## 十一、风险与应对

| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|----------|
| 与 YonAI 定位冲突 | 中 | 高 | 明确边界：YonAI 做 BIP，我们做所有自研系统 |
| 自研系统 API 不稳定 | 中 | 高 | 做好错误处理和降级方案 |
| 用户接受度低 | 中 | 中 | 早期用户试点，快速迭代 |
| AI 响应质量不稳定 | 高 | 中 | 优化 Prompt，引入 RAG |
| 技术变化快 | 高 | 低 | 拥抱开源，保持架构灵活性 |
| 多系统集成复杂 | 高 | 中 | 统一 Adapter 层，逐个系统接入 |

---

## 十二、附录

### 12.1 相关文档

| 文档 | 路径 |
|------|------|
| 项目背景 | [BACKGROUND.md](../BACKGROUND.md) |
| GitHub 指南 | [GitHub使用指南.md](./GitHub使用指南.md) |
| API 文档 | http://localhost:8000/docs |
| 技能开发指南 | [SKILLS_DEVELOPMENT.md](./SKILLS_DEVELOPMENT.md) |

### 12.2 术语表

| 术语 | 说明 |
|------|------|
| Agent | AI 智能体，能自主执行任务的 AI 系统 |
| Skill | 技能，Agent 可调用的特定能力 |
| RAG | 检索增强生成，结合知识库的 AI 生成技术 |
| TOP | 港华智慧运行平台，自研生产系统 |
| BIP | 用友 BIP，港华 ERP 系统 |
| YonAI | 用友内置 AI 平台 |

### 12.3 更新记录

| 版本 | 日期 | 更新内容 | 作者 |
|------|------|----------|------|
| v0.1 | 2026-02-15 | 初始版本 | Claude |
| v0.2 | 2026-02-17 | 完善需求，添加港华背景 | Claude |
| v0.3 | 2026-02-17 | 明确定位：覆盖所有自研系统，不只是 TOP；强调 Agent 自主性 | Claude |
| v0.4 | 2026-02-17 | 添加 6.3 未来 AI 应用场景规划：工程、场站、管网、气源四大领域详细场景及优先级排序 | Claude |
| v0.5 | 2026-02-17 | 新增市场开发、客服两大领域场景规划，更新优先级排序 | Claude |
| v0.6 | 2026-02-17 | 新增综合能源服务领域：公共建筑节能、工业节能、供热供暖、综合能源管理 4 个子领域 29 个场景 | Claude |
| v0.7 | 2026-02-17 | 为所有场景添加详细的「实现条件」和「业务价值」说明；基于条件成熟度和价值重新排序优先级，明确 P0 首批 6 个场景 | Claude |
| v0.8 | 2026-02-17 | 将 6.3 AI 应用场景详细规划移至附录 A，主文保留摘要；优化文档结构 | Claude |
| v0.9 | 2026-02-17 | 重构技术架构：采用"通用 Runtime + 行业 Domain Pack"分层设计，强调架构通用性 | Claude |
| v0.10 | 2026-02-17 | 删除 2.3 AI 双轨策略（架构已体现分层设计，无需单独强调） | Claude |
| v1.0 | 2026-02-17 | **重大更新**：融入 Claude Agent SDK Demo 项目架构理念。新增 1.3 核心架构理念（"1主Agent+N Skills+M Subagents"模式）、3.3 Skill vs Subagent 决策指南、7.0 Demo项目架构模式映射；重构 Section 6 Skills/Subagents 规划，采用 MCP 工具命名规范 | Claude |

---

*本文档由 Claude 辅助生成，由项目负责人审核确认*
